x-defs:
  ogc.contrib.stac.collection:
    description: STAC Collection
    allOf:
    - $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/collection
    - $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/ogc.api.features.v1.schemas.collection
    - type: object
      properties:
        links:
          type: array
          items:
            $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/ogc.ogc-utils.json-link
    x-schema-source: https://ogcincubator.github.io/bblocks-stac/build/annotated/contrib/stac/collection/schema.yaml
    x-schema-version: https://json-schema.org/draft/2020-12/schema
  collection:
    title: STAC Collection Specification
    description: This object represents Collections in a SpatioTemporal Asset Catalog.
    allOf:
    - $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/collection/definitions/collection
    definitions:
      collection:
        title: STAC Collection
        description: These are the fields specific to a STAC Collection. All other
          fields are inherited from STAC Catalog.
        type: object
        required:
        - stac_version
        - type
        - id
        - description
        - license
        - extent
        - links
        properties:
          stac_version:
            title: STAC version
            type: string
            enum:
            - 1.0.0
          stac_extensions:
            title: STAC extensions
            type: array
            uniqueItems: true
            items:
              title: Reference to a JSON Schema
              type: string
              format: iri
          type:
            title: Type of STAC entity
            enum:
            - Collection
          id:
            title: Identifier
            type: string
            minLength: 1
          title:
            title: Title
            type: string
          description:
            title: Description
            type: string
            minLength: 1
          keywords:
            title: Keywords
            type: array
            items:
              type: string
          license:
            title: Collection License Name
            type: string
            pattern: ^[\w\-\.\+]+$
          providers:
            type: array
            items:
              type: object
              required:
              - name
              properties:
                name:
                  title: Organization name
                  type: string
                description:
                  title: Organization description
                  type: string
                roles:
                  title: Organization roles
                  type: array
                  items:
                    type: string
                    enum:
                    - producer
                    - licensor
                    - processor
                    - host
                url:
                  title: Organization homepage
                  type: string
                  format: iri
          extent:
            title: Extents
            type: object
            required:
            - spatial
            - temporal
            properties:
              spatial:
                title: Spatial extent object
                type: object
                required:
                - bbox
                properties:
                  bbox:
                    title: Spatial extents
                    type: array
                    minItems: 1
                    items:
                      title: Spatial extent
                      type: array
                      oneOf:
                      - minItems: 4
                        maxItems: 4
                      - minItems: 6
                        maxItems: 6
                      items:
                        type: number
              temporal:
                title: Temporal extent object
                type: object
                required:
                - interval
                properties:
                  interval:
                    title: Temporal extents
                    type: array
                    minItems: 1
                    items:
                      title: Temporal extent
                      type: array
                      minItems: 2
                      maxItems: 2
                      items:
                        type: string
                        format: date-time
                        pattern: (\+00:00|Z)$
                        nullable: true
          assets:
            $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/item/definitions/assets
          links:
            title: Links
            type: array
            items:
              $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/collection/definitions/link
          summaries:
            $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/collection/definitions/summaries
      link:
        type: object
        required:
        - rel
        - href
        properties:
          href:
            title: Link reference
            type: string
            format: iri-reference
            minLength: 1
          rel:
            title: Link relation type
            type: string
            minLength: 1
          type:
            title: Link type
            type: string
          title:
            title: Link title
            type: string
      summaries:
        type: object
        additionalProperties:
          anyOf:
          - title: JSON Schema
            type: object
            minProperties: 1
            allOf:
            - $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/draft-07_schema
          - title: Range
            type: object
            required:
            - minimum
            - maximum
            properties:
              minimum:
                title: Minimum value
                anyOf:
                - type: number
                - type: string
              maximum:
                title: Maximum value
                anyOf:
                - type: number
                - type: string
          - title: Set of values
            type: array
            minItems: 1
            items:
              description: For each field only the original data type of the property
                can occur (except for arrays), but we can't validate that in JSON
                Schema yet. See the sumamry description in the STAC specification
                for details.
    x-schema-source: https://github.com/radiantearth/stac-spec/raw/master/collection-spec/json-schema/collection.json
    x-schema-id: https://schemas.stacspec.org/v1.0.0/collection-spec/json-schema/collection.json#
    x-schema-version: http://json-schema.org/draft-07/schema#
  ogc.api.features.v1.schemas.collection:
    type: object
    required:
    - id
    - links
    properties:
      id:
        description: identifier of the collection used, for example, in URIs
        type: string
        example: address
      title:
        description: human readable title of the collection
        type: string
        example: address
      description:
        description: a description of the features in the collection
        type: string
        example: An address.
      links:
        type: array
        items:
          $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/ogc.ogc-utils.json-link
        example:
        - href: http://data.example.com/buildings
          rel: item
        - href: http://example.com/concepts/buildings.html
          rel: describedby
          type: text/html
      extent:
        $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/ogc.api.features.v1.schemas.extent
      itemType:
        description: indicator about the type of the items in the collection (the
          default value is 'feature').
        type: string
        default: feature
      crs:
        description: the list of coordinate reference systems supported by the service
        type: array
        items:
          type: string
        default:
        - http://www.opengis.net/def/crs/OGC/1.3/CRS84
        example:
        - http://www.opengis.net/def/crs/OGC/1.3/CRS84
        - http://www.opengis.net/def/crs/EPSG/0/4326
    x-schema-source: https://ogcincubator.github.io/bblocks-ogcapi-features/build/annotated/api/features/v1/schemas/collection/schema.yaml
  ogc.ogc-utils.json-link:
    description: JSON Link
    type: object
    required:
    - href
    - rel
    properties:
      href:
        type: string
        format: uri-reference
        x-jsonld-type: '@id'
        x-jsonld-id: http://www.w3.org/ns/oa#hasTarget
      rel:
        type: string
        x-jsonld-id: http://www.iana.org/assignments/relation
        x-jsonld-type: '@id'
        x-jsonld-base: http://www.iana.org/assignments/relation/
      anchor:
        type: string
      type:
        type: string
        x-jsonld-id: http://purl.org/dc/terms/type
      hreflang:
        type: string
        x-jsonld-id: http://purl.org/dc/terms/language
      title:
        type: string
        x-jsonld-id: http://www.w3.org/2000/01/rdf-schema#label
      length:
        type: integer
        x-jsonld-id: http://purl.org/dc/terms/extent
    x-jsonld-prefixes:
      oa: http://www.w3.org/ns/oa#
      rdfs: http://www.w3.org/2000/01/rdf-schema#
      dct: http://purl.org/dc/terms/
    x-schema-source: https://opengeospatial.github.io/bblocks/annotated-schemas/ogc-utils/json-link/schema.yaml
    x-schema-version: https://json-schema.org/draft/2020-12/schema
  item:
    title: STAC Item
    type: object
    description: This object represents the metadata for an item in a SpatioTemporal
      Asset Catalog.
    allOf:
    - $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/item/definitions/core
    definitions:
      common_metadata:
        allOf:
        - $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/basics
        - $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/datetime
        - $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/instrument
        - $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/licensing
        - $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/provider
      core:
        allOf:
        - $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/ogc.geo.common.data_types.geojson
        - oneOf:
          - type: object
            required:
            - geometry
            - bbox
            properties:
              geometry:
                $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/Geometry
              bbox:
                type: array
                oneOf:
                - minItems: 4
                  maxItems: 4
                - minItems: 6
                  maxItems: 6
                items:
                  type: number
          - type: object
            required:
            - geometry
            properties:
              geometry:
                nullable: true
              bbox:
                not: {}
        - type: object
          required:
          - stac_version
          - id
          - links
          - assets
          - properties
          properties:
            stac_version:
              title: STAC version
              type: string
              enum:
              - 1.0.0
            stac_extensions:
              title: STAC extensions
              type: array
              uniqueItems: true
              items:
                title: Reference to a JSON Schema
                type: string
                format: iri
            id:
              title: Provider ID
              description: Provider item ID
              type: string
              minLength: 1
            links:
              title: Item links
              description: Links to item relations
              type: array
              items:
                $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/item/definitions/link
            assets:
              $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/item/definitions/assets
            properties:
              allOf:
              - $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/item/definitions/common_metadata
              - anyOf:
                - required:
                  - datetime
                  properties:
                    datetime:
                      not:
                        nullable: true
                - required:
                  - datetime
                  - start_datetime
                  - end_datetime
          if:
            properties:
              links:
                contains:
                  required:
                  - rel
                  properties:
                    rel:
                      enum:
                      - collection
          then:
            required:
            - collection
            properties:
              collection:
                title: Collection ID
                description: The ID of the STAC Collection this Item references to.
                type: string
                minLength: 1
          else:
            properties:
              collection:
                not: {}
      link:
        type: object
        required:
        - rel
        - href
        properties:
          href:
            title: Link reference
            type: string
            format: iri-reference
            minLength: 1
          rel:
            title: Link relation type
            type: string
            minLength: 1
          type:
            title: Link type
            type: string
          title:
            title: Link title
            type: string
      assets:
        title: Asset links
        description: Links to assets
        type: object
        additionalProperties:
          $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/item/definitions/asset
      asset:
        allOf:
        - type: object
          required:
          - href
          properties:
            href:
              title: Asset reference
              type: string
              format: iri-reference
              minLength: 1
            title:
              title: Asset title
              type: string
            description:
              title: Asset description
              type: string
            type:
              title: Asset type
              type: string
            roles:
              title: Asset roles
              type: array
              items:
                type: string
        - $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/item/definitions/common_metadata
    x-schema-source: https://github.com/radiantearth/stac-spec/raw/master/item-spec/json-schema/item.json
    x-schema-id: https://schemas.stacspec.org/v1.0.0/item-spec/json-schema/item.json#
    x-schema-version: http://json-schema.org/draft-07/schema#
  draft-07_schema:
    title: Core schema meta-schema
    definitions:
      schemaArray:
        type: array
        minItems: 1
        items:
          $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/draft-07_schema
      nonNegativeInteger:
        type: integer
        minimum: 0
      nonNegativeIntegerDefault0:
        allOf:
        - $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/draft-07_schema/definitions/nonNegativeInteger
        - default: 0
      simpleTypes:
        enum:
        - array
        - boolean
        - integer
        - 'null'
        - number
        - object
        - string
      stringArray:
        type: array
        items:
          type: string
        uniqueItems: true
        default: []
    properties:
      $ref:
        type: string
        format: uri-reference
      $comment:
        type: string
      title:
        type: string
      description:
        type: string
      default: true
      readOnly:
        type: boolean
        default: false
      writeOnly:
        type: boolean
        default: false
      examples:
        type: array
        items: true
      multipleOf:
        type: number
        exclusiveMinimum: 0
      maximum:
        type: number
      exclusiveMaximum:
        type: number
      minimum:
        type: number
      exclusiveMinimum:
        type: number
      maxLength:
        $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/draft-07_schema/definitions/nonNegativeInteger
      minLength:
        $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/draft-07_schema/definitions/nonNegativeIntegerDefault0
      pattern:
        type: string
        format: regex
      additionalItems:
        $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/draft-07_schema
      items:
        anyOf:
        - $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/draft-07_schema
        - $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/draft-07_schema/definitions/schemaArray
        default: true
      maxItems:
        $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/draft-07_schema/definitions/nonNegativeInteger
      minItems:
        $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/draft-07_schema/definitions/nonNegativeIntegerDefault0
      uniqueItems:
        type: boolean
        default: false
      contains:
        $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/draft-07_schema
      maxProperties:
        $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/draft-07_schema/definitions/nonNegativeInteger
      minProperties:
        $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/draft-07_schema/definitions/nonNegativeIntegerDefault0
      required:
        $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/draft-07_schema/definitions/stringArray
      additionalProperties:
        $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/draft-07_schema
      definitions:
        type: object
        additionalProperties:
          $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/draft-07_schema
        default: {}
      properties:
        type: object
        additionalProperties:
          $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/draft-07_schema
        default: {}
      patternProperties:
        type: object
        additionalProperties:
          $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/draft-07_schema
        propertyNames:
          format: regex
        default: {}
      dependencies:
        type: object
        additionalProperties:
          anyOf:
          - $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/draft-07_schema
          - $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/draft-07_schema/definitions/stringArray
      propertyNames:
        $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/draft-07_schema
      const: true
      enum:
        type: array
        items: true
        minItems: 1
        uniqueItems: true
      type:
        anyOf:
        - $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/draft-07_schema/definitions/simpleTypes
        - type: array
          items:
            $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/draft-07_schema/definitions/simpleTypes
          minItems: 1
          uniqueItems: true
      format:
        type: string
      contentMediaType:
        type: string
      contentEncoding:
        type: string
      if:
        $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/draft-07_schema
      then:
        $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/draft-07_schema
      else:
        $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/draft-07_schema
      allOf:
        $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/draft-07_schema/definitions/schemaArray
      anyOf:
        $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/draft-07_schema/definitions/schemaArray
      oneOf:
        $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/draft-07_schema/definitions/schemaArray
      not:
        $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/draft-07_schema
      x-schema-id:
        type: string
        format: uri-reference
      x-schema-version:
        type: string
        format: uri
    default: true
    x-schema-source: http://json-schema.org/draft-07/schema
    x-schema-id: http://json-schema.org/draft-07/schema#
    x-schema-version: http://json-schema.org/draft-07/schema#
    anyOf:
    - type: object
    - type: boolean
  ogc.api.features.v1.schemas.extent:
    description: 'The extent of the features in the collection. In the Core only spatial
      and temporal

      extents are specified. Extensions may add additional members to represent other

      extents, for example, thermal or pressure ranges.


      An array of extents is provided for each extent type (spatial, temporal). The
      first item

      in the array describes the overall extent of the data. All subsequent items
      describe more

      precise extents, e.g., to identify clusters of data. Clients only interested
      in the

      overall extent will only need to access the first extent in the array.'
    type: object
    properties:
      spatial:
        description: The spatial extent of the features in the collection.
        type: object
        properties:
          bbox:
            type: array
            items:
              $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/ogc.geo.common.data_types.bounding_box
          crs:
            description: 'Coordinate reference system of the coordinates in the spatial
              extent

              (property `bbox`). The default reference system is WGS 84 longitude/latitude.

              In the Core the only other supported coordinate reference system is

              WGS 84 longitude/latitude/ellipsoidal height for coordinates with height.

              Extensions may support additional coordinate reference systems and add

              additional enum values.'
            type: string
            enum:
            - http://www.opengis.net/def/crs/OGC/1.3/CRS84
            - http://www.opengis.net/def/crs/OGC/0/CRS84h
            default: http://www.opengis.net/def/crs/OGC/1.3/CRS84
      temporal:
        description: The temporal extent of the features in the collection.
        type: object
        properties:
          interval:
            description: 'One or more time intervals that describe the temporal extent
              of the dataset.

              In the Core only a single time interval is supported.


              Extensions may support multiple intervals.

              The first time interval describes the overall

              temporal extent of the data. All subsequent time intervals describe

              more precise time intervals, e.g., to identify clusters of data.

              Clients only interested in the overall temporal extent will only need

              to access the first time interval in the array (a pair of lower and
              upper

              bound instants).'
            type: array
            minItems: 1
            items:
              description: 'Begin and end times of the time interval. The timestamps
                are in the

                temporal coordinate reference system specified in `trs`. By default

                this is the Gregorian calendar.


                The value `null` at start or end is supported and indicates a half-bounded
                interval.'
              type: array
              minItems: 2
              maxItems: 2
              items:
                type: string
                format: date-time
                nullable: true
              example:
              - '2011-11-11T12:22:11Z'
              - null
          trs:
            description: 'Coordinate reference system of the coordinates in the temporal
              extent

              (property `interval`). The default reference system is the Gregorian
              calendar.

              In the Core this is the only supported temporal coordinate reference
              system.

              Extensions may support additional temporal coordinate reference systems
              and add

              additional enum values.'
            type: string
            enum:
            - http://www.opengis.net/def/uom/ISO-8601/0/Gregorian
            default: http://www.opengis.net/def/uom/ISO-8601/0/Gregorian
    x-schema-source: https://ogcincubator.github.io/bblocks-ogcapi-features/build/annotated/api/features/v1/schemas/extent/schema.yaml
  basics:
    title: Basic Descriptive Fields
    type: object
    properties:
      title:
        title: Item Title
        description: A human-readable title describing the Item.
        type: string
      description:
        title: Item Description
        description: Detailed multi-line description to fully explain the Item.
        type: string
    x-schema-source: https://github.com/radiantearth/stac-spec/raw/master/item-spec/json-schema/basics.json
    x-schema-id: https://schemas.stacspec.org/v1.0.0/item-spec/json-schema/basics.json#
    x-schema-version: http://json-schema.org/draft-07/schema#
  datetime:
    title: Date and Time Fields
    type: object
    dependencies:
      start_datetime:
        required:
        - end_datetime
      end_datetime:
        required:
        - start_datetime
    properties:
      datetime:
        title: Date and Time
        description: 'The searchable date/time of the assets, in UTC (Formatted in
          RFC 3339) '
        type: string
        format: date-time
        pattern: (\+00:00|Z)$
        nullable: true
      start_datetime:
        title: Start Date and Time
        description: 'The searchable start date/time of the assets, in UTC (Formatted
          in RFC 3339) '
        type: string
        format: date-time
        pattern: (\+00:00|Z)$
      end_datetime:
        title: End Date and Time
        description: 'The searchable end date/time of the assets, in UTC (Formatted
          in RFC 3339) '
        type: string
        format: date-time
        pattern: (\+00:00|Z)$
      created:
        title: Creation Time
        type: string
        format: date-time
        pattern: (\+00:00|Z)$
      updated:
        title: Last Update Time
        type: string
        format: date-time
        pattern: (\+00:00|Z)$
    x-schema-source: https://github.com/radiantearth/stac-spec/raw/master/item-spec/json-schema/datetime.json
    x-schema-id: https://schemas.stacspec.org/v1.0.0/item-spec/json-schema/datetime.json#
    x-schema-version: http://json-schema.org/draft-07/schema#
  instrument:
    title: Instrument Fields
    type: object
    properties:
      platform:
        title: Platform
        type: string
      instruments:
        title: Instruments
        type: array
        items:
          type: string
      constellation:
        title: Constellation
        type: string
      mission:
        title: Mission
        type: string
      gsd:
        title: Ground Sample Distance
        type: number
        exclusiveMinimum: 0
    x-schema-source: https://github.com/radiantearth/stac-spec/raw/master/item-spec/json-schema/instrument.json
    x-schema-id: https://schemas.stacspec.org/v1.0.0/item-spec/json-schema/instrument.json#
    x-schema-version: http://json-schema.org/draft-07/schema#
  licensing:
    title: Licensing Fields
    type: object
    properties:
      license:
        type: string
        pattern: ^[\w\-\.\+]+$
    x-schema-source: https://github.com/radiantearth/stac-spec/raw/master/item-spec/json-schema/licensing.json
    x-schema-id: https://schemas.stacspec.org/v1.0.0/item-spec/json-schema/licensing.json#
    x-schema-version: http://json-schema.org/draft-07/schema#
  provider:
    title: Provider Fields
    type: object
    properties:
      providers:
        title: Providers
        type: array
        items:
          type: object
          required:
          - name
          properties:
            name:
              title: Organization name
              type: string
              minLength: 1
            description:
              title: Organization description
              type: string
            roles:
              title: Organization roles
              type: array
              items:
                type: string
                enum:
                - producer
                - licensor
                - processor
                - host
            url:
              title: Organization homepage
              type: string
              format: iri
    x-schema-source: https://github.com/radiantearth/stac-spec/raw/master/item-spec/json-schema/provider.json
    x-schema-id: https://schemas.stacspec.org/v1.0.0/item-spec/json-schema/provider.json#
    x-schema-version: http://json-schema.org/draft-07/schema#
  ogc.geo.common.data_types.geojson:
    title: GeoJSON Feature
    type: object
    required:
    - type
    - properties
    - geometry
    properties:
      type:
        type: string
        enum:
        - Feature
      id:
        oneOf:
        - type: number
        - type: string
      properties:
        oneOf:
        - type: object
        nullable: true
      geometry:
        oneOf:
        - title: GeoJSON Point
          type: object
          required:
          - type
          - coordinates
          properties:
            type:
              type: string
              enum:
              - Point
            coordinates:
              type: array
              minItems: 2
              items:
                type: number
            bbox:
              type: array
              minItems: 4
              items:
                type: number
        - title: GeoJSON LineString
          type: object
          required:
          - type
          - coordinates
          properties:
            type:
              type: string
              enum:
              - LineString
            coordinates:
              type: array
              minItems: 2
              items:
                type: array
                minItems: 2
                items:
                  type: number
            bbox:
              type: array
              minItems: 4
              items:
                type: number
        - title: GeoJSON Polygon
          type: object
          required:
          - type
          - coordinates
          properties:
            type:
              type: string
              enum:
              - Polygon
            coordinates:
              type: array
              items:
                type: array
                minItems: 4
                items:
                  type: array
                  minItems: 2
                  items:
                    type: number
            bbox:
              type: array
              minItems: 4
              items:
                type: number
        - title: GeoJSON MultiPoint
          type: object
          required:
          - type
          - coordinates
          properties:
            type:
              type: string
              enum:
              - MultiPoint
            coordinates:
              type: array
              items:
                type: array
                minItems: 2
                items:
                  type: number
            bbox:
              type: array
              minItems: 4
              items:
                type: number
        - title: GeoJSON MultiLineString
          type: object
          required:
          - type
          - coordinates
          properties:
            type:
              type: string
              enum:
              - MultiLineString
            coordinates:
              type: array
              items:
                type: array
                minItems: 2
                items:
                  type: array
                  minItems: 2
                  items:
                    type: number
            bbox:
              type: array
              minItems: 4
              items:
                type: number
        - title: GeoJSON MultiPolygon
          type: object
          required:
          - type
          - coordinates
          properties:
            type:
              type: string
              enum:
              - MultiPolygon
            coordinates:
              type: array
              items:
                type: array
                items:
                  type: array
                  minItems: 4
                  items:
                    type: array
                    minItems: 2
                    items:
                      type: number
            bbox:
              type: array
              minItems: 4
              items:
                type: number
        - title: GeoJSON GeometryCollection
          type: object
          required:
          - type
          - geometries
          properties:
            type:
              type: string
              enum:
              - GeometryCollection
            geometries:
              type: array
              items:
                oneOf:
                - title: GeoJSON Point
                  type: object
                  required:
                  - type
                  - coordinates
                  properties:
                    type:
                      type: string
                      enum:
                      - Point
                    coordinates:
                      type: array
                      minItems: 2
                      items:
                        type: number
                    bbox:
                      type: array
                      minItems: 4
                      items:
                        type: number
                - title: GeoJSON LineString
                  type: object
                  required:
                  - type
                  - coordinates
                  properties:
                    type:
                      type: string
                      enum:
                      - LineString
                    coordinates:
                      type: array
                      minItems: 2
                      items:
                        type: array
                        minItems: 2
                        items:
                          type: number
                    bbox:
                      type: array
                      minItems: 4
                      items:
                        type: number
                - title: GeoJSON Polygon
                  type: object
                  required:
                  - type
                  - coordinates
                  properties:
                    type:
                      type: string
                      enum:
                      - Polygon
                    coordinates:
                      type: array
                      items:
                        type: array
                        minItems: 4
                        items:
                          type: array
                          minItems: 2
                          items:
                            type: number
                    bbox:
                      type: array
                      minItems: 4
                      items:
                        type: number
                - title: GeoJSON MultiPoint
                  type: object
                  required:
                  - type
                  - coordinates
                  properties:
                    type:
                      type: string
                      enum:
                      - MultiPoint
                    coordinates:
                      type: array
                      items:
                        type: array
                        minItems: 2
                        items:
                          type: number
                    bbox:
                      type: array
                      minItems: 4
                      items:
                        type: number
                - title: GeoJSON MultiLineString
                  type: object
                  required:
                  - type
                  - coordinates
                  properties:
                    type:
                      type: string
                      enum:
                      - MultiLineString
                    coordinates:
                      type: array
                      items:
                        type: array
                        minItems: 2
                        items:
                          type: array
                          minItems: 2
                          items:
                            type: number
                    bbox:
                      type: array
                      minItems: 4
                      items:
                        type: number
                - title: GeoJSON MultiPolygon
                  type: object
                  required:
                  - type
                  - coordinates
                  properties:
                    type:
                      type: string
                      enum:
                      - MultiPolygon
                    coordinates:
                      type: array
                      items:
                        type: array
                        items:
                          type: array
                          minItems: 4
                          items:
                            type: array
                            minItems: 2
                            items:
                              type: number
                    bbox:
                      type: array
                      minItems: 4
                      items:
                        type: number
            bbox:
              type: array
              minItems: 4
              items:
                type: number
        nullable: true
      bbox:
        type: array
        minItems: 4
        items:
          type: number
    x-schema-source: https://geojson.org/schema/Feature.json
    x-schema-id: https://geojson.org/schema/Feature.json
    x-schema-version: http://json-schema.org/draft-07/schema#
  Geometry:
    title: GeoJSON Geometry
    oneOf:
    - title: GeoJSON Point
      type: object
      required:
      - type
      - coordinates
      properties:
        type:
          type: string
          enum:
          - Point
        coordinates:
          type: array
          minItems: 2
          items:
            type: number
        bbox:
          type: array
          minItems: 4
          items:
            type: number
    - title: GeoJSON LineString
      type: object
      required:
      - type
      - coordinates
      properties:
        type:
          type: string
          enum:
          - LineString
        coordinates:
          type: array
          minItems: 2
          items:
            type: array
            minItems: 2
            items:
              type: number
        bbox:
          type: array
          minItems: 4
          items:
            type: number
    - title: GeoJSON Polygon
      type: object
      required:
      - type
      - coordinates
      properties:
        type:
          type: string
          enum:
          - Polygon
        coordinates:
          type: array
          items:
            type: array
            minItems: 4
            items:
              type: array
              minItems: 2
              items:
                type: number
        bbox:
          type: array
          minItems: 4
          items:
            type: number
    - title: GeoJSON MultiPoint
      type: object
      required:
      - type
      - coordinates
      properties:
        type:
          type: string
          enum:
          - MultiPoint
        coordinates:
          type: array
          items:
            type: array
            minItems: 2
            items:
              type: number
        bbox:
          type: array
          minItems: 4
          items:
            type: number
    - title: GeoJSON MultiLineString
      type: object
      required:
      - type
      - coordinates
      properties:
        type:
          type: string
          enum:
          - MultiLineString
        coordinates:
          type: array
          items:
            type: array
            minItems: 2
            items:
              type: array
              minItems: 2
              items:
                type: number
        bbox:
          type: array
          minItems: 4
          items:
            type: number
    - title: GeoJSON MultiPolygon
      type: object
      required:
      - type
      - coordinates
      properties:
        type:
          type: string
          enum:
          - MultiPolygon
        coordinates:
          type: array
          items:
            type: array
            items:
              type: array
              minItems: 4
              items:
                type: array
                minItems: 2
                items:
                  type: number
        bbox:
          type: array
          minItems: 4
          items:
            type: number
    x-schema-source: https://geojson.org/schema/Geometry.json
    x-schema-id: https://geojson.org/schema/Geometry.json
    x-schema-version: http://json-schema.org/draft-07/schema#
  ogc.geo.common.data_types.bounding_box:
    type: array
    oneOf:
    - minItems: 4
      maxItems: 4
    - minItems: 6
      maxItems: 6
    items:
      type: number
    x-schema-source: https://opengeospatial.github.io/bblocks/annotated-schemas/geo/common/data_types/bounding_box/schema.yaml
title: Template Extension
description: STAC Template Extension for STAC Items and STAC Collections, using the
  base STAC schemas via building block references
oneOf:
- type: object
  allOf:
  - $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/x-defs/ogc.contrib.stac.collection
  - $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/definitions/stac_extensions
  anyOf:
  - allOf:
    - required:
      - template:new_field
    - $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/definitions/fields
  - required:
    - assets
    properties:
      assets:
        type: object
        not:
          additionalProperties:
            not:
              allOf:
              - $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/definitions/require_any_field
              - $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/definitions/fields
  - required:
    - item_assets
    properties:
      item_assets:
        type: object
        not:
          additionalProperties:
            not:
              allOf:
              - $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/definitions/require_any_field
              - $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/definitions/fields
  - required:
    - summaries
    properties:
      summaries:
        $ref: https://raw.githubusercontent.com/ogcincubator/stac-extension-template/main/build/annotated/contrib/stac/extension/collection/schema-oas3.0.yaml#/definitions/require_any_field
definitions:
  stac_extensions:
    type: object
    required:
    - stac_extensions
    properties:
      stac_extensions:
        type: array
        contains:
          enum:
          - https://stac-extensions.github.io/template/v1.0.0/schema.json
  require_any_field:
    anyOf:
    - required:
      - template:new_field
    - required:
      - template:xyz
    - required:
      - template:another_one
  fields:
    type: object
    properties:
      template:new_field:
        type: string
      template:xyz:
        type: object
        required:
        - x
        - y
        - z
        properties:
          x:
            type: number
          y:
            type: number
          z:
            type: number
      template:another_one:
        type: array
        items:
          type: number
    additionalProperties: false
x-schema-id: https://stac-extensions.github.io/template/v1.0.0/schema.json#
x-schema-version: http://json-schema.org/draft-07/schema#
